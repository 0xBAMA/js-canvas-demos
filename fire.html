<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<style>
			html, body {
				width: 100%;
				height: 100%;
				margin: 0px;
				background-color: #000000;
			}
		</style>  

		<script type="application/javascript">
			function start()
			{
				//get your context stuff
				canvas = document.getElementById('canvas');
				ctx = canvas.getContext('2d');
				
				//establish width, with wide border (100px all edges)
				width = ctx.canvas.width  = window.innerWidth - 500;
				height = ctx.canvas.height = window.innerHeight - 500;

				console.log(width + ' ' + height);

				//initially fill with all black
				ctx.fillStyle = 'rgb(0,0,0,255)';
				ctx.fillRect(0,0,width,height);

				//call draw every __ ms
				var id = setInterval(draw, 50);
			}

			function draw() 
			{
				//get old data
				var myImageData = ctx.getImageData(0, 0, width, height);

				//new image data, with same dimensions
				var newImageData = ctx.createImageData(myImageData);

				//manipulate the data - make sure we're getting it right
				for(var	x = 0; x < width; x++)
				{
					for(var y = 0; y < height; y++)
					{
						if(x == 0 || y == 0 || x == width-1 || y == height-1)
						{
						//edge pixels - sides need to read the opposite side, bottom reads random values
							newImageData.data[y*width*4+x*4] = Math.random()*100+155;
							newImageData.data[y*width*4+x*4 + 1] = 255;
							newImageData.data[y*width*4+x*4 + 2] = 255;
							newImageData.data[y*width*4+x*4 + 3] = 255;
						}
						else
						{						
							newImageData.data[y*width*4+x*4] = x % 255;
							newImageData.data[y*width*4+x*4 + 1] = y % 255;
							newImageData.data[y*width*4+x*4 + 2] = 255;
							newImageData.data[y*width*4+x*4 + 3] = 255;
						}
					}
				}			
				
	
				//fill with random values
				//for(var i = 0; i < (4*width*height); i++)
				//{
					//newImageData.data[i] = Math.random()*255;
				//}


				//put the manipulated data back
				ctx.putImageData(newImageData, 0, 0);
			}
		</script>
	</head>
	<body onload="start();">
	</body>
	<canvas id="canvas" style='position:absolute; left:250px; top:250px;'></canvas>
</html>
